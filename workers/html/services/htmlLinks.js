!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","../parser/htmlScanner","vscode-languageserver-types","../utils/strings","vscode-uri"],e)}(function(e,t){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function r(e,t){var r=e[0];return r!==e[e.length-1]||"'"!==r&&'"'!==r||(e=e.substr(1,e.length-2)),"razor"===t&&"~"===e[0]&&(e=e.substr(1)),e}function n(e,t){if(!e.length)return!1;if("handlebars"===t&&/{{.*}}/.test(e))return!1;if("razor"===t&&/@/.test(e))return!1;try{return!!l.default.parse(e)}catch(e){return!1}}function s(e,t,r,n){if(/^\s*javascript\:/i.test(t)||/^\s*\#/i.test(t)||/[\n\r]/.test(t))return null;if(t=t.replace(/^\s*/g,""),/^https?:\/\//i.test(t)||/^file:\/\//i.test(t))return t;if(/^\/\//i.test(t)){return(f.startsWith(e,"https://")?"https":"http")+":"+t.replace(/^\s*/g,"")}return r?r.resolveReference(t,n||e):t}function a(e,t,a,u,o,f){var l=r(a,e.languageId);if(!n(l,e.languageId))return null;l.length<a.length&&(u++,o--);var g=s(e.uri,l,t,f);return g&&i(g)?{range:c.Range.create(e.positionAt(u),e.positionAt(o)),target:g}:null}function i(e){try{return l.default.parse(e),!0}catch(e){return!1}}function u(e,t){for(var n=[],s=o.createScanner(e.getText(),0),i=s.scan(),u=!1,c=!1,f=void 0;i!==o.TokenType.EOS;){switch(i){case o.TokenType.StartTag:if(!f){c="base"===s.getTokenText().toLowerCase()}break;case o.TokenType.AttributeName:var l=s.getTokenText().toLowerCase();u="src"===l||"href"===l;break;case o.TokenType.AttributeValue:if(u){var g=s.getTokenText();if(!c){var p=a(e,t,g,s.getTokenOffset(),s.getTokenEnd(),f);p&&n.push(p)}c&&void 0===f&&(f=r(g,e.languageId))&&t&&(f=t.resolveReference(f,e.uri)),c=!1,u=!1}}i=s.scan()}return n}Object.defineProperty(t,"__esModule",{value:!0});var o=e("../parser/htmlScanner"),c=e("vscode-languageserver-types"),f=e("../utils/strings"),l=e("vscode-uri");t.findDocumentLinks=u});
!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","../parser/htmlScanner","vscode-languageserver-types","./tagProviders"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("../parser/htmlScanner"),r=e("vscode-languageserver-types"),a=e("./tagProviders");t.doHover=function(e,t,o){function u(e,t,n){e=e.toLowerCase();for(var a=0,o=s;a<o.length;a++){var u=function(u){var l=null;if(o[a].collectTags(function(a,o){a===e&&(l={contents:[{language:"html",value:n?"<"+e+">":"</"+e+">"},r.MarkedString.fromPlainText(o)],range:t})}),l)return{value:l}}();if("object"==typeof u)return u.value}return null}function l(t,r){for(var a=n.createScanner(e.getText(),r),o=a.scan();o!==n.TokenType.EOS&&(a.getTokenEnd()<i||a.getTokenEnd()===i&&o!==t);)o=a.scan();return o===t&&i<=a.getTokenEnd()?{start:e.positionAt(a.getTokenOffset()),end:e.positionAt(a.getTokenEnd())}:null}var i=e.offsetAt(t),f=o.findNodeAt(i);if(!f||!f.tag)return null;var s=a.allTagProviders.filter(function(t){return t.isApplicable(e.languageId)});if(f.endTagStart&&i>=f.endTagStart){var d=l(n.TokenType.EndTag,f.endTagStart);return d?u(f.tag,d,!1):null}var g=l(n.TokenType.StartTag,f.start);return g?u(f.tag,g,!0):null}});
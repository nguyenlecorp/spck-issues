!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","../parser/htmlScanner","vscode-languageserver-types","./tagProviders"],e)}(function(e,t){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function n(e,t,n){function u(e,t,n){e=e.toLowerCase();for(var r=0,o=s;r<o.length;r++){var u=o[r],l=function(r){var o=null;if(r.collectTags(function(r,u){if(r===e){o={contents:[{language:"html",value:n?"<"+e+">":"</"+e+">"},a.MarkedString.fromPlainText(u)],range:t}}}),o)return{value:o}}(u);if("object"==typeof l)return l.value}return null}function l(t,n){for(var a=r.createScanner(e.getText(),n),o=a.scan();o!==r.TokenType.EOS&&(a.getTokenEnd()<i||a.getTokenEnd()===i&&o!==t);)o=a.scan();return o===t&&i<=a.getTokenEnd()?{start:e.positionAt(a.getTokenOffset()),end:e.positionAt(a.getTokenEnd())}:null}var i=e.offsetAt(t),f=n.findNodeAt(i);if(!f||!f.tag)return null;var s=o.allTagProviders.filter(function(t){return t.isApplicable(e.languageId)});if(f.endTagStart&&i>=f.endTagStart){var d=l(r.TokenType.EndTag,f.endTagStart);return d?u(f.tag,d,!1):null}var g=l(r.TokenType.StartTag,f.start);return g?u(f.tag,g,!0):null}Object.defineProperty(t,"__esModule",{value:!0});var r=e("../parser/htmlScanner"),a=e("vscode-languageserver-types"),o=e("./tagProviders");t.doHover=n});